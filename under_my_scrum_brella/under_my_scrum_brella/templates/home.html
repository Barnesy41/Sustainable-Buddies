{% extends 'index.html' %}
{% load static %}
{% block content %}
  <!--
  ###########################################################################
  #   Author: Ellie Andrews
  #   Contributors: Oliver Fitzgerald
  #
  #   The author has written all code in this file unless stated otherwise.
  ###########################################################################
  -->
<br>


<script>    
    //Oliver Fitzgerald    
    const wardrobeItems = [
    "{% static 'items/binhatitem.png' %}",
    "{% static 'items/glassesitem.png' %}",
    "{% static 'items/goldmedalitem.png' %}",
    "{% static 'items/rubiishpickeritem.png' %}",
    "{% static 'items/waterbottleitem.png' %}"
    ];
    // Function to display images on the page
    function displayImages() {
        const index_array = JSON.parse('{{ index_array|escapejs }}');
        console.log("items that should be worn "+index_array);
        const container = document.getElementById('buddy-container');
        index_array.forEach((item, index) => {
        const img = document.createElement('img');
        img.src = wardrobeItems[item];
        img.alt = `Wardrobe Item ${index + 1}`;
        img.classList.add('absolute-image');
        container.appendChild(img);
    });
}
window.onload = displayImages;
</script>

<!--This section is displayed when the user is logged in-->
{% if user.is_authenticated %}
<img src="{% static 'under_my_scrum_brella/waterbottleguyanimated.gif' %}" class="responsive-image-left">
<img src="{% static 'under_my_scrum_brella/batteryguyanimated.gif' %}" class="responsive-image-right">
<h1>Welcome {{ user.username }}!</h1>
<p>Thanks for logging in, are you ready for some sustainable fun?!</p>
<div style="justify-content: center; display: flex;">
    <img src="{% static 'assets/leafflowervine.png' %}" style="width:50%; height:auto;">
</div>
<h2>Your Buddy:</h2>
<!--Oliver Fitzgerald - div below-->
<div class="outer-buddy-containter">
<div class="centered-container" style="height: 150px; ">
<div id="buddy-container">
    <img src="{% static 'under_my_scrum_brella/' %}{{user_details.buddy_type}}.png" class="absolute-image">
</div></div></div>

<div style="justify-content: center; display: flex;">
    <img src="{% static 'assets/leafflowervine.png' %}" style="width:50%; height:auto;">
</div>
<h2>Your EcoCoins: {{user_details.total_coins}}</h2>
<h2>Your XP: {{user_details.total_xp}}</h2>
<div style="justify-content: center; display: flex;">
    <img src="{% static 'assets/leafflowervine.png' %}" style="width:50%; height:auto;">
</div>
<h2>Looking for ideas of what to do?</h2>
<p>Have a look at some of our sustainable tasks to earn EcoCoins, visit your sustainable buddy, or make some friends!
</p>
<div style="justify-content: center; display: flex;">
    <a href="{% url 'tasks' %}" class="login-btn">Tasks</a>
    <a href="{% url 'mypet' %}" class="login-btn">My Buddy</a>
    <a href="{% url 'friends' %}" class="login-btn">Friends</a>
</div>
<div style="justify-content: center; display: flex;">
    <img src="{% static 'assets/leafflowervine.png' %}" style="width:50%; height:auto;">
</div>


<!--This section is displayed when the user is not logged in-->
{% else %}
<img src="{% static 'under_my_scrum_brella/waterbottleguyanimated.gif' %}" class="responsive-image-left">
<img src="{% static 'under_my_scrum_brella/batteryguyanimated.gif' %}" class="responsive-image-right">
<h1>Welcome to Sustainable Buddies!</h1>
<section class="hero">
    <h1 id="welcome-message"></h1>
    <div class="buttons" id="login-buttons">
        <a href="{% url 'login' %}" class="login-btn">Log In / Sign Up</a>
    </div>
    <div></div>
    <br>
    <p>At Sustainable Buddies, we believe in the power of collective action to create positive change for our planet.
        Our platform is designed to empower individuals like you to take meaningful steps towards a more sustainable
        lifestyle, one task at a time.</p>
    <br>
    <div style="justify-content: center; display: flex;">
        <img src="{% static 'assets/leafvine.png' %}" style="width:50%; height:auto;">
    </div>
    <h2>How It Works:</h2>
    <p>Complete Tasks, Earn Coins:
        <br>
        Sign up and browse through a variety of tasks tailored to reduce your environmental footprint. From recycling
        initiatives to energy-saving challenges, each completed task earns you EcoCoins, our digital currency.
        <br>
        Choose Your Sustainable Buddy:
        <br>
        Sign up today and adopt a buddy - a cute and eco-friendly companion designed to accompany you on your green
        journey.
        Once you've earned enough EcoCoins, head over to the Shop. Here, you'll find a delightful selection of items for
        your sustainable buddy!
        <br>
        Make a Difference Together:
        <br>
        Your sustainable buddy isn't just a picture â€“ it's a symbol of your commitment to sustainability. As you care
        for your buddy and complete sustainable tasks, you'll unlock new items in the shop, all while making a tangible
        impact on the planet.
        <br>
    </p>
    <div style="justify-content: center; display: flex;">
        <img src="{% static 'assets/leafvine.png' %}" style="width:50%; height:auto;">
    </div>
    <h2>Why Sustainable Pets?</h2>
    <p>
        Fun and Engaging:
        <br>
        We believe that sustainability should be enjoyable! Our platform gamifies eco-friendly actions, turning everyday
        tasks into exciting challenges that you'll love to complete.
        <br>
        Community and Support:
        <br>
        Join a vibrant community of like-minded individuals who share your passion for sustainability. Connect with
        fellow players, share tips and tricks, and inspire each other to reach new heights.
        <br>
    </p>
    <h2>Join Us Today!
    </h2>
    <div style="justify-content: center; display: flex;">
        <img src="{% static 'assets/leafvine.png' %}" style="width:50%; height:auto;">
    </div>
    <br>
    <br>
    <br>
    </div>
</section>
{% endif %}
{% endblock content %}