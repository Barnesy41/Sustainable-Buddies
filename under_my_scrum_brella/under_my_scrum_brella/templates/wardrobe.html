{% extends 'index.html' %}
{% load static %}
{% block content %}
<style>
    body {
        margin: 0;
        padding: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        height: 100vh; /* 100% of viewport height */
    }

    .pet-title {
        margin-bottom: 20px;
    }

    .centered-container {
        resize: vertical;
        height: 50%;
        aspect-ratio: 1/1;
        position: relative;
        border: 2px solid #333; /* Border style */
        box-sizing: border-box; /* Include border in total width and height */
    }

    .absolute-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover; /* Maintain image aspect ratio while covering the container */
    }

    .full-width-container {
            width: 100%;
            border: 2px solid #333; /* Border style */
            box-sizing: border-box; /* Include border in total width and height */
            padding: 20px; /* Optional padding */

            display: flex;
            flex-wrap: wrap;
            justify-content: center; /* Center the buttons horizontally */
            align-items: center; /* Center the buttons vertically */
            gap: 20px; /* Add some spacing between buttons */
        }

    .wardrobe-button {
            width: 100px;
            height: 100px;
            background-color: #6bbdb8;
            color: #fff;
            border-color: #6bbdb8;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            border-width: 3px;
            margin: 10px;
        }

    .wardrobe-button:hover {
    background-color: #4a9f9b;
    color: #dddddd;
    text-decoration: none;
    }

    .item-image{
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

</style>

<script>
    let latestValue = 0;
    let itemList = [];

    function setItem(itemNum, itemID, buttonID)
    {
        latestValue = itemNum;
        toggleImage(itemNum, itemID,buttonID);
    }

    function toggleImage(itemNum,itemID, buttonID) {

        const image = document.getElementById(itemID);
        var buttonToChange = document.getElementById(buttonID);
        
        if (image.style.display === 'none' || image.style.display === '') {
            image.style.display = 'block';
            itemList.push(itemNum);
            buttonToChange.style.borderColor = "#ffbf00";
        } else {
            image.style.display = 'none';
            const index = itemList.indexOf(itemNum);
            if (index !== -1) {
            itemList.splice(index, 1);
            console.log(`Removed ${itemNum} from the array.`);
            } else {
            console.log(`${itemNum} not found in the array.`);
            }
            buttonToChange.style.borderColor = "#6bbdb8";
        }
        console.log(itemList);
    }

</script>

<body>
<br>
<div>
    <h1 class="pet-title">Your Buddy's Wardrobe</h1>
</div>


<div class="centered-container">
    <div>
        <!--<img src="{% static 'under_my_scrum_brella/treeguy.png' %}"  alt="Your Pet Image" class="absolute-image">-->
        <img src="{% static 'under_my_scrum_brella/batteryguy.png' %}" alt="Overlay Image" class="absolute-image">
        <img id="item-1-image" src="{% static 'items/binhatitem.png' %}" class="item-image">
        <img id="item-2-image" src="{% static 'items/glassesitem.png' %}" class="item-image">
        <img id="item-3-image" src="{% static 'items/goldmedalitem.png' %}" class="item-image">
        <img id="item-4-image" src="{% static 'items/rubiishpickeritem.png' %}" class="item-image">
        <img id="item-5-image" src="{% static 'items/waterbottleitem.png' %}" class="item-image">
        
    </div>
</div>
<p>Click items to add or remove them from your Buddy. Hover over a button to see the name of the item</p>
<div class="full-width-container">
    
    <button id="item-1" title="Bin Hat" class="wardrobe-button" onclick="setItem(1, 'item-1-image', 'item-1')">
        <img src="{% static 'items/binhatitem.png' %}" width="90" height="90"></button>
    
    <button id="item-2" title="Glasses" class="wardrobe-button" onclick="setItem(2, 'item-2-image', 'item-2')">
        <img src="{% static 'items/glassesitem.png' %}" width="90" height="90"></button>
    
    <button id="item-3" title="Gold Medal" class="wardrobe-button" onclick="setItem(3, 'item-3-image','item-3')">
        <img src="{% static 'items/goldmedalitem.png' %}" width="90" height="90"></button>

    <button id="item-4" title="Litter Picker" class="wardrobe-button" onclick="setItem(4, 'item-4-image','item-4')">
        <img src="{% static 'items/rubiishpickeritem.png' %}" width="90" height="90"></button>

    <button id="item-5" title="Water Bottle" class="wardrobe-button" onclick="setItem(5, 'item-5-image','item-5')">
        <img src="{% static 'items/waterbottleitem.png' %}" width="90" height="90"></button>

</div>

<div id="itemList">
    Test for getting items from the database
    {% for item in all_items %}
            Item: {{ item.item_name }}
    {% endfor %}
</div>

</body>

{% endblock content %}