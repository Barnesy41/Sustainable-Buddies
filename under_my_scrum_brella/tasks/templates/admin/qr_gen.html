{% extends "admin/base.html" %}

{% block content %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js" integrity="sha512-CNgIRecGo7nphbeZ04Sc13ka07paqdeTu0WR1IM4kNcpmBAUSHSQX0FslNhTDadL4O5SAGapGt4FodqL8My0mA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <div class="container">
        <!-- <div class="d-flex justify-content-center"> -->
        <div style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
            <input id="text" type="text" value="Example"><button onclick="genQR()">Update</button>
        </div>
        <div style="display: flex; flex-direction: row; align-items: center; justify-content: center;">
            <div id="qrcode"></div>
        </div>
    </div>

    <script type="text/javascript">
    const text = document.getElementById("text")

    function genQR() {
        qrcode.clear();
        qrcode.makeCode(text.value);
    }

    text.addEventListener("keypress", (event) => {
        if (event.key === "Enter") {
            event.preventDefault();
            genQR();
        }
    })

    const qrcode = new QRCode(document.getElementById("qrcode"),text.value);
    </script>
{% endblock %}